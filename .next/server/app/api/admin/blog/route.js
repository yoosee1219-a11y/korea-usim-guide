"use strict";(()=>{var e={};e.id=945,e.ids=[945],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6577:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>f,patchFetch:()=>x,requestAsyncStorage:()=>h,routeModule:()=>m,serverHooks:()=>b,staticGenerationAsyncStorage:()=>_});var o={};r.r(o),r.d(o,{DELETE:()=>g,GET:()=>p,POST:()=>c,PUT:()=>d,dynamic:()=>l});var s=r(9303),a=r(8716),n=r(670),i=r(7070),u=r(5662);let l="force-dynamic";async function p(e){try{let{data:e,error:t}=await u.O.from("blog_posts").select("*").order("created_at",{ascending:!1});if(t)throw t;return i.NextResponse.json(e)}catch(e){return console.error("Blog fetch error:",e),i.NextResponse.json({error:"Failed to fetch posts"},{status:500})}}async function c(e){try{let t=await e.json(),r={title_ko:t.title_ko,content_ko:t.content_ko,excerpt_ko:t.excerpt_ko,slug:t.slug,category:t.category,tags:t.tags,featured_image:t.featured_image,author:t.author||"Admin",is_published:t.is_published||!1,published_at:t.is_published?new Date().toISOString():null},{data:o,error:s}=await u.O.from("blog_posts").insert([r]).select().single();if(s)throw s;return i.NextResponse.json(o,{status:201})}catch(e){return console.error("Blog create error:",e),i.NextResponse.json({error:"Failed to create post"},{status:500})}}async function d(e){try{let t=await e.json();if(!t.id)return i.NextResponse.json({error:"Post ID required"},{status:400});let r={title_ko:t.title_ko,content_ko:t.content_ko,excerpt_ko:t.excerpt_ko,slug:t.slug,category:t.category,tags:t.tags,featured_image:t.featured_image,is_published:t.is_published};t.is_published&&!t.published_at&&(r.published_at=new Date().toISOString());let{data:o,error:s}=await u.O.from("blog_posts").update(r).eq("id",t.id).select().single();if(s)throw s;return i.NextResponse.json(o)}catch(e){return console.error("Blog update error:",e),i.NextResponse.json({error:"Failed to update post"},{status:500})}}async function g(e){try{let{searchParams:t}=new URL(e.url),r=t.get("id");if(!r)return i.NextResponse.json({error:"Post ID required"},{status:400});let{error:o}=await u.O.from("blog_posts").delete().eq("id",r);if(o)throw o;return i.NextResponse.json({success:!0})}catch(e){return console.error("Blog delete error:",e),i.NextResponse.json({error:"Failed to delete post"},{status:500})}}let m=new s.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/admin/blog/route",pathname:"/api/admin/blog",filename:"route",bundlePath:"app/api/admin/blog/route"},resolvedPagePath:"C:\\Users\\woosol\\Documents\\korea-usim-comparison\\app\\api\\admin\\blog\\route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:h,staticGenerationAsyncStorage:_,serverHooks:b}=m,f="/api/admin/blog/route";function x(){return(0,n.patchFetch)({serverHooks:b,staticGenerationAsyncStorage:_})}},5662:(e,t,r)=>{r.d(t,{O:()=>o});let o=(0,r(3974).eI)("https://osrjxlrqngizamjszurf.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9zcmp4bHJxbmdpemFtanN6dXJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMwMDQ0MzYsImV4cCI6MjA3ODU4MDQzNn0.rgHLazegoJcp8NJ71g1mtbILHkUySPlVMFsUAIkdLPU")}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[948,376],()=>r(6577));module.exports=o})();