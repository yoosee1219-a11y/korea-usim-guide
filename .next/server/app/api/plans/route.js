"use strict";(()=>{var e={};e.id=542,e.ids=[542],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8191:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>I,patchFetch:()=>g,requestAsyncStorage:()=>u,routeModule:()=>c,serverHooks:()=>d,staticGenerationAsyncStorage:()=>m});var s={};t.r(s),t.d(s,{GET:()=>l});var a=t(9303),n=t(8716),o=t(670),i=t(7070),p=t(5662);async function l(e){try{let r=e.nextUrl.searchParams,t=r.get("carrier_id"),s=r.get("network_type"),a=r.get("plan_type"),n=r.get("min_price"),o=r.get("max_price"),l=p.O.from("plans").select(`
        *,
        carrier:carriers(*)
      `).eq("is_active",!0);t&&(l=l.eq("carrier_id",t)),s&&(l=l.eq("network_type",s)),a&&(l=l.eq("plan_type",a)),n&&(l=l.gte("monthly_fee",parseInt(n))),o&&(l=l.lte("monthly_fee",parseInt(o))),l=l.order("monthly_fee",{ascending:!0});let{data:c,error:u}=await l;if(u)return console.error("Plans query error:",u),i.NextResponse.json({error:"Failed to fetch plans"},{status:500});return i.NextResponse.json(c)}catch(e){return console.error("Plans API error:",e),i.NextResponse.json({error:"Internal server error"},{status:500})}}let c=new a.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/plans/route",pathname:"/api/plans",filename:"route",bundlePath:"app/api/plans/route"},resolvedPagePath:"C:\\Users\\woosol\\Documents\\korea-usim-comparison\\app\\api\\plans\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:u,staticGenerationAsyncStorage:m,serverHooks:d}=c,I="/api/plans/route";function g(){return(0,o.patchFetch)({serverHooks:d,staticGenerationAsyncStorage:m})}},5662:(e,r,t)=>{t.d(r,{O:()=>s});let s=(0,t(3974).eI)("https://osrjxlrqngizamjszurf.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9zcmp4bHJxbmdpemFtanN6dXJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMwMDQ0MzYsImV4cCI6MjA3ODU4MDQzNn0.rgHLazegoJcp8NJ71g1mtbILHkUySPlVMFsUAIkdLPU")}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[948,376],()=>t(8191));module.exports=s})();